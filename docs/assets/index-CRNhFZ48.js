(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const p=document.getElementById("tasks"),g=document.getElementById("filters"),k=document.getElementById("form"),d=document.getElementById("items-left"),E=document.getElementById("delete-completed"),f=document.getElementById("switch"),L=document.querySelectorAll(".filter"),u={ALL:"all",ACTIVE:"active",COMPLETED:"completed"};let c=[{id:Date.now(),task:"Make a todo app",completed:!1}],a=u.ALL,m=!1;const h=()=>{m=!m,document.body.classList.remove("light","dark"),m?(document.body.classList.add("dark"),f.src="./assets/icon-sun.svg"):(document.body.classList.add("light"),f.src="./assets/icon-moon.svg")},T=()=>{const e=c.filter(t=>!t.completed).length;if(c.length===0){d.textContent="No Tasks";return}e===0?d.textContent="All tasks completed!":d.textContent=`${e} items left.`},y=()=>{let e=c;return a===u.ACTIVE?e=c.filter(t=>!t.completed):a===u.COMPLETED&&(e=c.filter(t=>t.completed)),e},i=()=>{const e=document.createDocumentFragment();y().forEach(l=>{const r=document.createElement("div");r.classList.add("task-container");const s=document.createElement("input");s.id=l.id,s.classList.add("task-check"),s.type="checkbox",s.checked=l.completed,s.addEventListener("change",()=>v(l.id));const n=document.createElement("label");n.classList.add("task-text"),n.textContent=l.task,n.htmlFor=l.id;const o=document.createElement("img");o.classList.add("task-delete"),o.src="./assets/icon-cross.svg",o.addEventListener("click",()=>C(l.id)),r.append(s,n,o),e.append(r)}),p.textContent="",p.append(e),T()},v=e=>{c=c.map(t=>(t.id===e&&(t.completed=!t.completed),t)),i(),console.log(c)},C=e=>{c=c.filter(t=>t.id!==e),i()},I=e=>{const t={id:Date.now(),task:e,completed:!1};c.push(t),i()},w=e=>{L.forEach(t=>t.classList.remove("filter--active")),e.classList.add("filter--active"),i()},b=()=>{c=c.filter(e=>!e.completed),i()};i();k.addEventListener("submit",e=>{e.preventDefault(),e.target.task.value&&(I(e.target.task.value),e.target.reset())});g.addEventListener("click",e=>{const t=e.target.dataset.filter;!t||a===t||(a=t,w(e.target))});E.addEventListener("click",b);f.addEventListener("click",h);
